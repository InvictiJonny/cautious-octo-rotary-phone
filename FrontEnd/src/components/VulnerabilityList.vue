<template>
  <div class="vulnerability-list">
    <h2 class="list-title">Vulnerability List</h2>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Severity</th>
          <th>Affected Component</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="vuln in vulnerabilities" :key="vuln.id">
          <td>{{ vuln.name }}</td>
          <td>
            <span :class="['severity-badge', vuln.severity.toLowerCase()]">
              {{ vuln.severity }}
            </span>
          </td>
          <td>{{ vuln.affectedComponent }}</td>
          <td>{{ vuln.description }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script lang="ts">
import { computed, defineComponent } from 'vue'
import { useStore } from 'vuex'

export default defineComponent({
  name: 'VulnerabilityList',
  setup() {
    const store = useStore()
    const vulnerabilities = computed(() => store.state.vulnerabilities)

    return { vulnerabilities }
  }
})
</script>

<style scoped>
.vulnerability-list {
  margin-top: 20px;
}

.list-title {
  font-size: 1.5rem;
  font-weight: bold;
  margin-bottom: 20px;
}

table {
  width: 100%;
  border-collapse: collapse;
}

th, td {
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid #e2e8f0;
}

th {
  background-color: #f8fafc;
  font-weight: bold;
}

.severity-badge {
  padding: 4px 8px;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: bold;
  text-transform: uppercase;
}

.critical { background-color: #FEE2E2; color: #EF4444; }
.high { background-color: #FEF3C7; color: #F97316; }
.medium { background-color: #FEF9C3; color: #EAB308; }
.low { background-color: #DCFCE7; color: #22C55E; }
</style>

